<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />









  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="一个人并不是生来要给打败的，你尽可以的消灭他，可就是打不败他">
<meta property="og:type" content="website">
<meta property="og:title" content="ChainTech">
<meta property="og:url" content="http://shniu.github.io/page/5/index.html">
<meta property="og:site_name" content="ChainTech">
<meta property="og:description" content="一个人并不是生来要给打败的，你尽可以的消灭他，可就是打不败他">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ChainTech">
<meta name="twitter:description" content="一个人并不是生来要给打败的，你尽可以的消灭他，可就是打不败他">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://shniu.github.io/page/5/"/>





  <title> ChainTech </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ChainTech</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">知其所以然</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/08/01/算法笔记1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/01/算法笔记1/" itemprop="url">
                  算法笔记1 - Encode and decode tinyURL
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-01T14:32:43+08:00">
                2017-08-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Question-description"><a href="#Question-description" class="headerlink" title="Question description"></a>Question description</h2><blockquote>
<p>TinyURL is a URL shortening service where you enter a URL such as <a href="https://leetcode.com/problems/design-tinyurl" target="_blank" rel="external">https://leetcode.com/problems/design-tinyurl</a> and it returns a short URL such as <a href="http://tinyurl.com/4e9iAk" target="_blank" rel="external">http://tinyurl.com/4e9iAk</a><br>Design the encode and decode methods for the TinyURL service. There is no restriction on how your encode/decode algorithm should work. You just need to ensure that a URL can be encoded to a tiny URL and the tiny URL can be decoded to the original URL.</p>
<p>Requirements:<br>For instance, “<a href="http://tinyurl.com/4e9iAk" target="_blank" rel="external">http://tinyurl.com/4e9iAk</a>“ is the tiny url for the page “<a href="https://leetcode.com/problems/design-tinyurl" target="_blank" rel="external">https://leetcode.com/problems/design-tinyurl</a>“. The identifier (the highlighted part) can be any string with 6 alphanumeric characters containing 0-9, a-z, A-Z.<br>Each shortened URL must be unique; that is, no two different URLs can be shortened to the same URL.</p>
</blockquote>
<p><a href="https://leetcode.com/problems/design-tinyurl/description/" target="_blank" rel="external">https://leetcode.com/problems/design-tinyurl/description/</a><br><a href="https://leetcode.com/problems/encode-and-decode-tinyurl/description/" target="_blank" rel="external">https://leetcode.com/problems/encode-and-decode-tinyurl/description/</a></p>
<p>一些讨论可以参考这里：<br><a href="https://leetcode.com/problems/design-tinyurl/discuss/" target="_blank" rel="external">discuss</a></p>
<p>这是一个有点意思的问题或叫需求，既可以单纯的把他当作一个简单的算法题来做做，也能复杂到我们需要大规模分布式系统去解决，取决于我们使用这个tinyURL services的场景是什么。当我们把他当作toy玩一玩的时候，十几行代码就解决了；如果我们把他做成服务千万上亿级别的用户时，每秒需要满足几百万，上千万，上亿次的请求时，他又是另外一帆景象。</p>
<blockquote>
<p>世界是奇妙的，当你发现他不一样的时候。</p>
</blockquote>
<h2 id="对于这件事情简单的处理"><a href="#对于这件事情简单的处理" class="headerlink" title="对于这件事情简单的处理"></a>对于这件事情简单的处理</h2><h4 id="字母随机组合法"><a href="#字母随机组合法" class="headerlink" title="字母随机组合法"></a>字母随机组合法</h4><p>简单到我们不关心任何复杂的事情，就是去实现Encode tinyURL and decode tinyURL，看下面的代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Codec</span><span class="params">(object)</span>:</span></div><div class="line">    base_domain = <span class="string">'http://tiny.com/'</span></div><div class="line">    </div><div class="line">    alphabet = string.ascii_letters + <span class="string">'0123456789'</span></div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.code_to_url = &#123;&#125;</div><div class="line">        self.url_to_code = &#123;&#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">encode</span><span class="params">(self, long_url)</span>:</span></div><div class="line">        <span class="keyword">while</span> long_url <span class="keyword">not</span> <span class="keyword">in</span> self.url_to_code:</div><div class="line">            code = <span class="string">''</span>.join(random.sample(self.alphabet, <span class="number">6</span>))</div><div class="line">            <span class="keyword">if</span> code <span class="keyword">not</span> <span class="keyword">in</span> self.code_to_url:</div><div class="line">                self.url_to_code[long_url] = code</div><div class="line">                self.code_to_url[code] = long_url</div><div class="line">                </div><div class="line">        <span class="keyword">return</span> <span class="string">'%s%s'</span> % (self.base_domain, self.url_to_code[long_url])</div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decode</span><span class="params">(self, tiny_url)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.long_url[tiny_url[<span class="number">-6</span>:]]</div></pre></td></tr></table></figure>
<p>上面使用了一种组合<code>a-z</code>, <code>A-Z</code>, <code>0-9</code> 的方式生成short url，6位的组合有 (62)^6 = 570亿种，所以基本满足了需求上限；</p>
<h4 id="hash-function"><a href="#hash-function" class="headerlink" title="hash function"></a>hash function</h4><p>此外还有另外一种hash的方式，可以使用md5 or sha-1 的方式做hash运算，我们假设预估每个url的平均长度是20，每个字符占用2Bytes，那么总共需要40Bytes；首先如果使用md5会生成一个128位的二进制，一般会用32位的十六进制去表示，最终会占用16Bytes的空间；其次如果使用sha-1的方式去做hash，会生成一个160位的二进制，用40位的十六进制，使用20Byte就可以搞定存储；此法比较简单，hash的值也会比较随机，可以节省空间；但是这种方式会比较容易产生冲突，冲突之后就需要重新生成，也可以结合timestamp重新hash，但随着url增多时，冲突的机率会大幅增加，效率就会变得比较低。</p>
<h2 id="URLService系统级别的服务"><a href="#URLService系统级别的服务" class="headerlink" title="URLService系统级别的服务"></a>URLService系统级别的服务</h2><p>下面我再去深入的思考这个问题，假设场景是这样的：</p>
<ul>
<li>我们需要构建一个URLService的服务对外提供服务，面向全球</li>
<li>我们的QPS指标最弱也需要是下面这样的</li>
</ul>
<blockquote>
<p>QPS<br>  日活  10万<br>  日请求  写 300w，读 3000w<br>  响应时间500ms左右<br>  QPS  写 100，读 1K</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/04/22/深度学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/22/深度学习/" itemprop="url">
                  深度学习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-22T18:50:55+08:00">
                2017-04-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="未知概念"><a href="#未知概念" class="headerlink" title="未知概念"></a>未知概念</h2><ul>
<li>神经网络</li>
<li>高数</li>
<li>线性代数</li>
</ul>
<h2 id="重要资源"><a href="#重要资源" class="headerlink" title="重要资源"></a>重要资源</h2><p><a href="https://www.zhihu.com/question/49909565" target="_blank" rel="external">tensorflow如何入门 - 知乎</a></p>
<p><a href="http://www.tensorflow.org" target="_blank" rel="external">tensorflow.org</a></p>
<p><a href="http://playground.tensorflow.org" target="_blank" rel="external">playground.tensorflow.org</a></p>
<p><a href="https://github.com/zsdonghao/tensorlayer" target="_blank" rel="external">https://github.com/zsdonghao/tensorlayer</a></p>
<h2 id="QA"><a href="#QA" class="headerlink" title="QA"></a>QA</h2><ul>
<li>tensorflow.org总是打不开的处理办法</li>
</ul>
<blockquote>
<p>修改 /etc/hosts 文件，加入<br>64.233.188.121 www.tensorflow.org</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/04/18/认知积累/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/18/认知积累/" itemprop="url">
                  认知积累
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-18T13:22:23+08:00">
                2017-04-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="精准是企业的未来"><a href="#精准是企业的未来" class="headerlink" title="精准是企业的未来"></a>精准是企业的未来</h3><blockquote>
<p>企业做到了精准，才有机会进入下一轮的商业竞争；Google颠覆了传统广告，带来了创新，Google的广告投放、淘宝的推广投放；商业文明的DNA也具有双螺旋，分别是协同网络和数据智能。<br>协同网络：降低进入生态的门槛，一定是低门槛，以先进入的一批慢慢带动后来者，比如淘宝的生态，开始是一些边缘的人在做，比如大学生、失业的工人等；网络中的各组成部分之间能够自发的发展关系；<br>数据智能：在线化、记录尽可能多的数据，先不要管怎么用，将来肯定有用；<br>数据化是个昂贵的过程，谁有更有创意更优质获取数据的能力，谁就有更强的竞争力；<br>机器学习的的逻辑是否贯穿这个过程，是否能有更有的算法去解决接踵而来的问题；<br>一定要有持续不断的用户反馈、使用反馈，然后再去优化，再去收集反馈；<br>未来一定是有精准服务取胜的。  曾鸣</p>
</blockquote>
<h3 id="知识的正解"><a href="#知识的正解" class="headerlink" title="知识的正解"></a>知识的正解</h3><blockquote>
<p>所谓的知识，并不能给你带来任何的益处；信息本身并不是知识，堆叠在一起并不会自动产生有价值的、可供使用的知识，比如你知道的成语比别人多，这些大量的信息并不能帮你去做出比别人更好的决策，或对未来更好的关键选择；所以知识是那些能帮你做出更好决策，更好选择，能给你带来更加美好未来的信息；注意力比时间重要，时间比金钱重要；知识创造者和知识传播者，现在知识创造者更加重要；  李笑来</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/04/11/知识图谱/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/11/知识图谱/" itemprop="url">
                  知识图谱
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T21:10:55+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="知乎上的"><a href="#知乎上的" class="headerlink" title="知乎上的"></a>知乎上的</h4><blockquote>
<p>从头构建知识图谱，抛开应用不谈，就是获取结构化数据（并映射到本体）的过程；快速构建的方法，个人觉得最好的是从各种源头爬取结构化数据，涉及到几个过程：</p>
<ol>
<li>网页/数据的爬取，解析</li>
<li>清洗</li>
<li>消重，消歧<br>(<a href="https://www.zhihu.com/question/26385031" target="_blank" rel="external">https://www.zhihu.com/question/26385031</a>)</li>
</ol>
<p>方法的是清晰的，没有什么秘密。楼上各位都说的很清楚了：实体提取，关系提取，图谱存储和检索。知识图谱实践坑太多了，绝不是看看教科书就能学会的。这是很年轻的学科，目前还没有好的教材。关键是项目的目标控制和路径设计。科研项目，工程项目，大公司项目，小公司项目，大公司装逼项目，大公司现有产品改进项目，抢资金项目，预研试验项目。To B项目，To C项目，To VC项目，To G项目。那做法都是完全不同的。关键是成本控制，回报周期控制，和出钱的大爷的预期管理。在技术上做好演进的，可容忍低结构、高噪声、低质量数据，充分理解没有神奇的银弹。在团队上充分考虑到知识图谱人才稀缺性，尽量用现有的技术人才渐进推进。在资金管理上充分理解大爷们耐心是有限的，要快速迭代，快速出活。</p>
<p>真实的世界在人类的认知当中就是由实体、属性和实体间的关系构成的；获取这些东西的最大挑战无非就是实体识别、消歧（重名，别名）、实体关系挖掘等，这些归根到底都属于nlp的问题；所以说如果中文知识图谱的构建和英文的有什么区别的话，只能是中文和英文在自然语言处理技术上的差别比如处理语料时中文和英文分词的差别，这点中文更难，很多实体的指代直接被分成多个词，后面再想救回来又得另想办法；比如消歧的时候英文中有大量的缩写指代，同一个缩写对应很多可能的实体，这点英文比中文难；再比如关系挖掘的时候，个人感觉中文要更难一些，因为表述更丰富更不规律；综上，中文知识图谱的构建和英文的所谓区别，归根结底只在nlp这一块，其他的诸如步骤流程框架等等确实没啥差<br>当然，英文方面现成的东西更多一点，可以直接拿来用，中文就苦逼呵呵了…这会导致实施起来有所不同，在我看来这也算是一个很大的差别吧…</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/03/31/汇总精华文章/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/31/汇总精华文章/" itemprop="url">
                  不积硅步，无以至千里
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-31T17:01:30+08:00">
                2017-03-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote><p>两点之间最短的距离是恶性循环</p>
</blockquote>
<h2 id="大数据处理技术"><a href="#大数据处理技术" class="headerlink" title="大数据处理技术"></a>大数据处理技术</h2><ul>
<li><a href="https://spark.apache.org/docs/latest/programming-guide.html#transformations" target="_blank" rel="external">spark官方文档</a></li>
</ul>
<h2 id="人工智能"><a href="#人工智能" class="headerlink" title="人工智能"></a>人工智能</h2><h2 id="Vuejs"><a href="#Vuejs" class="headerlink" title="Vuejs"></a>Vuejs</h2><ul>
<li><a href="https://github.com/pablohpsilva/vuejs-component-style-guide/blob/master/README-CN.md" target="_blank" rel="external">Vuejs编码规范</a></li>
<li><a href="https://github.com/lin-xin/vue-manage-system" target="_blank" rel="external">Vue2.x和Element-ui开发的后台管理系统</a></li>
<li><a href="https://github.com/ElementUI/awesome-element" target="_blank" rel="external">awesome-element</a></li>
<li><a href="https://github.com/taylorchen709/vue-admin" target="_blank" rel="external">vue-admin-element</a></li>
<li><a href="http://www.jianshu.com/c/c71f9c127c71" target="_blank" rel="external">element-ui分析的系列文章</a></li>
</ul>
<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><p><a href="http://feisky.xyz/docker/" target="_blank" rel="external">Docker学习笔记</a></p>
<p><a href="https://docs.docker.com/samples/" target="_blank" rel="external">Docker samples</a></p>
<p><a href="http://www.dockerinfo.net/341.html" target="_blank" rel="external">Docker命令指令详情</a><br><a href="http://www.jianshu.com/p/3da0e1bce796" target="_blank" rel="external">http://www.jianshu.com/p/3da0e1bce796</a></p>
<p><a href="https://sematext.com/blog/2016/12/12/docker-elasticsearch-swarm/" target="_blank" rel="external">https://sematext.com/blog/2016/12/12/docker-elasticsearch-swarm/</a></p>
<p><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-docker-distributed-bigdata/" target="_blank" rel="external">https://www.ibm.com/developerworks/cn/opensource/os-cn-docker-distributed-bigdata/</a></p>
<p><a href="http://blog.daocloud.io/unfhdockerswarm/" target="_blank" rel="external">http://blog.daocloud.io/unfhdockerswarm/</a></p>
<p><a href="https://github.com/hashicorp/raft" target="_blank" rel="external">https://github.com/hashicorp/raft</a></p>
<p><a href="http://shiyanjun.cn/archives/1625.html" target="_blank" rel="external">Docker Swarm架构、特性与基本实践</a></p>
<p><a href="http://www.infoq.com/cn/news/2017/02/docker-1.13" target="_blank" rel="external">docker1.13新特性</a></p>
<p><a href="https://sematext.com/blog/2016/12/12/docker-elasticsearch-swarm/" target="_blank" rel="external">ES cluster of Docker</a></p>
<p><a href="https://yq.aliyun.com/articles/135?spm=5176.100239.blogcont134.9.ufn1ej" target="_blank" rel="external">阿里云Docker博客</a></p>
<h2 id="自然语言处理"><a href="#自然语言处理" class="headerlink" title="自然语言处理"></a>自然语言处理</h2><ul>
<li><a href="http://spaces.ac.cn/archives/4316/?appinstall=0" target="_blank" rel="external">Word2Vec</a> </li>
</ul>
<blockquote>
<p>本文主要是给出了关键词的一种新的定义，并且基于Word2Vec给出了一个实现方案。</p>
</blockquote>
<ul>
<li><a href="https://www.zhihu.com/question/52368821/answer/138745422" target="_blank" rel="external">知乎-知识图谱如何入门</a></li>
</ul>
<blockquote>
<p>任何一个学科，重要的不是静态的知识本身，而是建立知其然（Framework），知其所以然（Rationale），最后到知未然（Insights）</p>
</blockquote>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/26208385" target="_blank" rel="external">金融知识图谱的现状和展望</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzI1NDE1MDUwOQ==&amp;mid=2650796469&amp;idx=1&amp;sn=ac96b8a3c8b0aa8efd73983efde43cd3&amp;chksm=f1c2c3b7c6b54aa1eae085a7bfb790b7814ffedc3e401c4c40d788f75d0d3563ee5c2a066993&amp;mpshare=1&amp;scene=1&amp;srcid=0410SnB1VMKgJMFgKj77SZAZ&amp;key=da7b049fa48f9065a6e5edd50cb00bace41288d1af4b6a68fc3d0182868d83a8542204171759c72e7dc8907195b75da86386371be23c365393c72029d9f97d2ee79df75535d273dc94bdc1b906cbf393&amp;ascene=0&amp;uin=MTM2NDMwMDgyMg%3D%3D&amp;devicetype=iMac+MacBookPro12%2C1+OSX+OSX+10.12.3+build(16D32)&amp;version=12010310&amp;nettype=WIFI&amp;fontScale=100&amp;pass_ticket=ZEBBE0sCS5MOoVxyNVyehxmOnuU3Wt%2BrQh8%2Bz0FI9cg6koZnQpy0Kg0LtbI6G1df" target="_blank" rel="external">https://mp.weixin.qq.com/s?__biz=MzI1NDE1MDUwOQ==&amp;mid=2650796469&amp;idx=1&amp;sn=ac96b8a3c8b0aa8efd73983efde43cd3&amp;chksm=f1c2c3b7c6b54aa1eae085a7bfb790b7814ffedc3e401c4c40d788f75d0d3563ee5c2a066993&amp;mpshare=1&amp;scene=1&amp;srcid=0410SnB1VMKgJMFgKj77SZAZ&amp;key=da7b049fa48f9065a6e5edd50cb00bace41288d1af4b6a68fc3d0182868d83a8542204171759c72e7dc8907195b75da86386371be23c365393c72029d9f97d2ee79df75535d273dc94bdc1b906cbf393&amp;ascene=0&amp;uin=MTM2NDMwMDgyMg%3D%3D&amp;devicetype=iMac+MacBookPro12%2C1+OSX+OSX+10.12.3+build(16D32)&amp;version=12010310&amp;nettype=WIFI&amp;fontScale=100&amp;pass_ticket=ZEBBE0sCS5MOoVxyNVyehxmOnuU3Wt%2BrQh8%2Bz0FI9cg6koZnQpy0Kg0LtbI6G1df</a></li>
</ul>
<h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><h3 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h3><ul>
<li><a href="https://gavinzhang1.gitbooks.io/spring/content/" target="_blank" rel="external">Spring源码阅读</a></li>
<li><a href="https://www.zhihu.com/question/21346206" target="_blank" rel="external">知乎-怎么阅读Spring源码？</a></li>
<li><a href="https://my.oschina.net/kaywu123/blog?search=Spring" target="_blank" rel="external">Spring源码分析系列</a></li>
</ul>
<h2 id="分布式系统"><a href="#分布式系统" class="headerlink" title="分布式系统"></a>分布式系统</h2><ul>
<li><a href="http://www.oschina.net/translate/log-what-every-software-engineer-should-know-about-real-time-datas-unifying" target="_blank" rel="external">日志：每个软件工程师都应该知道的有关实时数据的统一概念</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/03/31/spark入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/31/spark入门/" itemprop="url">
                  spark入门
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-31T11:22:33+08:00">
                2017-03-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="先来认识一下spark-shell"><a href="#先来认识一下spark-shell" class="headerlink" title="先来认识一下spark-shell"></a>先来认识一下spark-shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">cd spark</div><div class="line">bin/spark-shell</div><div class="line"></div><div class="line"># spark shell 是一个强大的交互式数据分析工具，提供了一个简单的方式来学习 API；</div><div class="line"># spark最主要的抽象就是RDD（所以对RDD要有深刻的理解）</div><div class="line"></div><div class="line"># 一下操作都在spark-shell中操作</div><div class="line"># 使用spark-shell中实例化好的SparkContext创建RDD</div><div class="line">val textFile = sc.textFile(&quot;README.md&quot;)</div><div class="line"></div><div class="line"># RDD有两类重要的功能，actions（可以从RDD中返回值的能力）和transformations（可以从RDD中变换成新的RDD的能力）</div><div class="line">textFile.count()    # action</div><div class="line">val linesWithSpark = textFile.filter(line =&gt; line.contains(&quot;Spark&quot;))  # transformation</div><div class="line"></div><div class="line">textFile.filter(line =&gt; line.contains(&quot;Spark&quot;)).count()  # 组合在一起搞</div></pre></td></tr></table></figure>
<h3 id="独立的应用程序"><a href="#独立的应用程序" class="headerlink" title="独立的应用程序"></a>独立的应用程序</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkContext</span></div><div class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkContext</span>._</div><div class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">object</span> <span class="title">SimpleApp</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</div><div class="line">    <span class="keyword">val</span> logFile = <span class="string">"YOUR_SPARK_HOME/README.md"</span> <span class="comment">// 应该是你系统上的某些文件</span></div><div class="line">    <span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setAppName(<span class="string">"Simple Application"</span>)</div><div class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</div><div class="line">    <span class="keyword">val</span> logData = sc.textFile(logFile, <span class="number">2</span>).cache()</div><div class="line">    <span class="keyword">val</span> numAs = logData.filter(line =&gt; line.contains(<span class="string">"a"</span>)).count()</div><div class="line">    <span class="keyword">val</span> numBs = logData.filter(line =&gt; line.contains(<span class="string">"b"</span>)).count()</div><div class="line">    println(<span class="string">"Lines with a: %s, Lines with b: %s"</span>.format(numAs, numBs))</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用sbt打包后，提交给spark执行</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/03/31/Our-team-and-I/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/31/Our-team-and-I/" itemprop="url">
                  团队与团队管理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-31T10:22:02+08:00">
                2017-03-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote><p>在团队推进项目的过程中，一个非常重要的原则是：一定要让工作可见、让进度可见，可见是对everyone and everything。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/03/30/elasticsearch配置说明/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/30/elasticsearch配置说明/" itemprop="url">
                  elasticsearch配置说明
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-30T15:47:48+08:00">
                2017-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote><p>持续运行的服务，需要我们持续不断的监控，需要对日志的实时分析</p>
</blockquote>
<p>elasticsearch.yml 是elasticsearch的重要配置文件</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 配置es的集群名称，默认是elasticsearch，es会自动发现在同一网段下的es，如果在同一网段下有多个集群，就可以用这个属性来区分不同的集群</span></div><div class="line">cluster.name: elasticsearch</div><div class="line"></div><div class="line"><span class="comment"># 节点名，默认随机指定一个name列表中名字，该列表在es的jar包中config文件夹里name.txt文件中，其中有很多作者添加的有趣名字</span></div><div class="line">node.name: demo</div><div class="line"></div><div class="line"><span class="comment">#</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/03/21/我们都知道但不一定懂的道/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/21/我们都知道但不一定懂的道/" itemprop="url">
                  我们都知道但不一定懂的道
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-21T13:04:29+08:00">
                2017-03-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="道"><a href="#道" class="headerlink" title="道"></a>道</h2><blockquote><p>我要感谢我的妻子……在我心中，物理不是最重要的，爱才是。</p>
<footer><strong>费曼, 1965年诺贝尔物理奖得主</strong><cite><a href="https://shniu.github.io">shniu.github.io</a></cite></footer></blockquote>
<hr>
<blockquote><p>天行健，君子以自强不息；地势坤，君子以厚德载物。</p>
</blockquote>
<hr>
<blockquote><p>我知道怎样处卑贱,也知道怎样处丰富，或饱足，或饥饿，或有余，或缺乏，随事随在，我都得了秘诀。我靠着那加给我力量的，凡事都能做。</p>
<footer><strong>保罗</strong><cite>新约圣经</cite></footer></blockquote>
<hr>
<blockquote><p>因真理，得自由，以服侍</p>
<footer><strong>北大前身燕京大学校训</strong></footer></blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shniu.github.io/2017/03/17/ELK平台/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shniu<niushaohan@digcredit.com>">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/portrait-01.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChainTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/17/ELK平台/" itemprop="url">
                  ELK平台
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-17T09:54:21+08:00">
                2017-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>elk是一款开源的集中式日志管理分析平台，并且拥有实时日志分析的能力；</p>
<h3 id="Logstash"><a href="#Logstash" class="headerlink" title="Logstash"></a>Logstash</h3><p>回答第一个问题Logstash是什么？</p>
<blockquote><p>Logstash is an open source data collection engine with real-time pipelining capabilities. Logstash can dynamically unify data from disparate sources and normalize the data into destinations of your choice. Cleanse and democratize all your data for diverse advanced downstream analytics and visualization use cases.</p>
<p>上面这段话，已经很清楚的描述了Logstash的定位了，大概是说 Logstash是一款开源的实时管道数据收集引擎，它可以将分散在不同地方的数据动态实时的汇总在一起，然后把标准化后的数据放在你想放的人和地方；清洗和标准化所有你为下游的高阶应用提供的数据，如数据分析、可视化；</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 启动logstash</div><div class="line">cd logstash-5.2.2</div><div class="line">bin/logstash -f ~/logstash.conf</div></pre></td></tr></table></figure>
<p>Logstash的配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">input &#123; </div><div class="line">    stdin &#123; &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line">filter &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">output &#123;</div><div class="line">  stdout &#123; codec =&gt; rubydebug &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 测试配置文件</div><div class="line">bin/logstash -f first-pipeline.conf --config.test_and_exit</div><div class="line"></div><div class="line"># 自动装载配置文件，会自动load</div><div class="line">bin/logstash -f first-pipeline.conf --config.reload.automatic</div></pre></td></tr></table></figure>
<h4 id="Logstash是如何工作的"><a href="#Logstash是如何工作的" class="headerlink" title="Logstash是如何工作的"></a>Logstash是如何工作的</h4><p>Logstash处理包括三个步骤：inputs -&gt; filters -&gt; outputs, inputs生产事件，filters处理它们，outputs把这些处理后的东西输出到任何其他地方；Inputs and outputs support codecs that enable you to encode or decode the data as it enters or exits the pipeline without having to use a separate filter.</p>
<ul>
<li>inputs</li>
</ul>
<p>常用的一些inputs，如 <code>file</code>, <code>syslog</code>, <code>redis</code>, <code>beats</code></p>
<ul>
<li></li>
<li></li>
</ul>
<h4 id="执行模型"><a href="#执行模型" class="headerlink" title="执行模型"></a>执行模型</h4><p><a href="https://www.elastic.co/guide/en/logstash/current/persistent-queues.html" target="_blank" rel="external">持久化队列</a> 属于优化层面的</p>
<h4 id="Logstash的配置"><a href="#Logstash的配置" class="headerlink" title="Logstash的配置"></a>Logstash的配置</h4><p>Logstash有两类配置文件：处理流程管道配置文件和控制logstash启动关闭的配置文件；</p>
<p><a href="https://www.elastic.co/guide/en/logstash/current/logstash-settings-file.html" target="_blank" rel="external">Logstash 的系统配置</a></p>
<p><a href="https://www.elastic.co/guide/en/logstash/current/running-logstash-command-line.html" target="_blank" rel="external">Logstash的命令行</a></p>
<p><a href="https://www.elastic.co/guide/en/logstash/current/running-logstash.html" target="_blank" rel="external">作为服务运行</a></p>
<p><a href="https://www.elastic.co/guide/en/logstash/current/docker.html" target="_blank" rel="external">Running logstash on Docker</a></p>
<p><a href="https://www.elastic.co/guide/en/logstash/current/logging.html#logging" target="_blank" rel="external">Logstash logging</a></p>
<p>查看日志的级别信息<br><a href="http://localhost:9600/_node/logging?pretty" target="_blank" rel="external">http://localhost:9600/_node/logging?pretty</a></p>
<p><a href="https://www.elastic.co/guide/en/logstash/current/shutdown.html" target="_blank" rel="external">关闭Logstash</a></p>
<p><a href="https://www.elastic.co/guide/en/logstash/current/configuration-file-structure.html" target="_blank" rel="external">Logstash processing config file</a></p>
<h4 id="input-filter"><a href="#input-filter" class="headerlink" title="input filter"></a>input filter</h4><h5 id="grok"><a href="#grok" class="headerlink" title="grok"></a>grok</h5><p>grok用来解析任意的文本，然后生成结构化的数据；</p>
<h3 id="Filebeat"><a href="#Filebeat" class="headerlink" title="Filebeat"></a>Filebeat</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./filebeat -e -c filebeat.yml -d &quot;publish&quot;</div></pre></td></tr></table></figure>
<h3 id="Elasticsearch"><a href="#Elasticsearch" class="headerlink" title="Elasticsearch"></a>Elasticsearch</h3><blockquote></blockquote>
<h4 id="Elasticsearch架构"><a href="#Elasticsearch架构" class="headerlink" title="Elasticsearch架构"></a>Elasticsearch架构</h4><p><a href="http://www.tuicool.com/articles/ruQBB3E" target="_blank" rel="external">Elasticsearch架构</a></p>
<ul>
<li>elasticsearch中的服务发现</li>
</ul>
<p>在分布式系统中要解决的第一个问题就是节点之间互相发现及选主的过程，像Zookeeper，就是解决了这个问题；elasticsearch是一个分布式的弹性伸缩的全文搜索及分析引擎，但es的分布式节点服务发现使用了自身的ZenDiscovery，大致过程如下：</p>
<blockquote>
<p>节点启动时先ping节点，ping是一个rpc的命令，如果discovery.zen.ping.unicast.hosts中设置了值，则ping设置中的主机，否则ping localhost；<br>ping返回的response，会包含被ping主机的节点信息以及被ping认为的master节点；<br>选举开始，先从各节点认为的master中选举一个做master，按照字母顺序选；<br>如果没有认为的master存在，就从所有节点中选一个，选的方式也是按照字母顺序，但是如果设置了discovery.zen.minimum_master_nodes，那就必须节点总数达到最小值的限制才能开始选举，否则一直等待；<br>最后肯定能选个master出来，如果只有一个节点，就选自己；<br>如果当前节点是master，等待节点个数大于minimum_master_nodes，然后就对外提供服务；<br>如果当前节点不是master，尝试加入master</p>
</blockquote>
<ul>
<li>弹性伸缩的elastic</li>
</ul>
<p>体现在如下两个方面：<br>1 服务发现机制让节点很容易加入和退出<br>2 富的设置以及allocation API</p>
<p>Elasticsearch 节点启动的时候只需要配置discovery.zen.ping.unicast.hosts，这里不需要列举集群中所有的节点，只要知道其中一个即可。当然为了避免重启集群时正好配置的节点挂掉，最好多配置几个节点。节点退出时只需要调用 API 将该节点从集群中排除，系统会自动迁移该节点上的数据，然后关闭该节点即可。当然最好也将不可用的已知节点从其他节点的配置中去除，避免下次启动时出错。</p>
<p>分片（Shard）以及副本（Replica） 分布式存储系统为了解决单机容量以及容灾的问题，都需要有分片以及副本机制。Elasticsearch 没有采用节点级别的主从复制，而是基于分片；</p>
<ul>
<li></li>
<li></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"># 查看es集群的健康状态</div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/_cat/health?v&quot; -u elastic:changeme</div><div class="line"></div><div class="line"># 查看es集群的节点信息</div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/_cat/nodes?v&quot; -u elastic:changeme</div><div class="line"></div><div class="line"># 查看es集群中所有的index</div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/_cat/indices?v&quot; -u elastic:changeme</div><div class="line"></div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/logstash-decision-engine/_search?pretty&quot; -u elastic:changeme -d &apos;&#123;&quot;query&quot;:&#123;&quot;match_all&quot;:&#123;&#125;&#125;, &quot;size&quot;: 1&#125;&apos;</div><div class="line"></div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/logstash-decision-engine/_search?pretty&quot; -u elastic:changeme -d &apos;&#123;&quot;query&quot;:&#123;&quot;match_all&quot;:&#123;&#125;&#125;, &quot;from&quot;: 10, &quot;size&quot;: 10&#125;&apos;</div><div class="line"></div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/logstash-decision-engine/_search?pretty&quot; -u elastic:changeme -d &apos;&#123;&quot;query&quot;:&#123;&quot;match_all&quot;:&#123;&#125;&#125;, &quot;from&quot;: 10, &quot;size&quot;: 10, &quot;sort&quot;: &#123;&quot;@timestamp&quot;: &#123;&quot;order&quot;: &quot;desc&quot;&#125;&#125;&#125;&apos;</div><div class="line"></div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/logstash-decision-engine/_search?pretty&quot; -u elastic:changeme -d &apos;&#123;&quot;query&quot;:&#123;&quot;match&quot;:&#123;&quot;@timestamp&quot;: &quot;2017-03-31T03:36:13.993Z&quot;&#125;&#125;&#125;&apos;</div><div class="line"></div><div class="line"># 返回所有包含failure的记录</div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/logstash-decision-engine/_search?pretty&quot; -u elastic:changeme -d &apos;&#123;&quot;query&quot;:&#123;&quot;match&quot;:&#123;&quot;message&quot;: &quot;failure&quot;&#125;&#125;&#125;&apos;</div><div class="line"></div><div class="line"># bool query, must  should   must_not</div><div class="line">curl -i -X GET &quot;http://192.168.1.100:9200/logstash-decision-engine/_search?pretty&quot; -u elastic:changeme -d &apos;&#123;&quot;query&quot;:&#123;&quot;bool&quot;: &#123;&quot;should&quot;: [&#123;&quot;match&quot;: &#123;&quot;message&quot;: &quot;failure&quot;&#125;&#125;]&#125;&#125;&#125;&apos;</div><div class="line"></div><div class="line"># filters</div><div class="line"></div><div class="line"># Aggregations</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># start elasticsearch</div><div class="line">cd elasticsearch-5.2.2</div><div class="line">bin/elasticsearch</div></pre></td></tr></table></figure>
<h4 id="Elasticsearch-Mapping"><a href="#Elasticsearch-Mapping" class="headerlink" title="Elasticsearch Mapping"></a>Elasticsearch Mapping</h4><p>Mapping定义了type中的诸多字段的数据类型以及这些字段如何被Elasticsearch处理，比如一个字段是否可以查询以及如何分词等。默认情况不需要显式的定义mapping， 当新的type或者field引入时，Elasticsearch会自动创建并且注册有合理的默认值的mapping(毫无性能压力)， 只有要覆盖默认值时才必须要提供mapping定义。</p>
<ul>
<li>Mapping datatypes</li>
</ul>
<p>string: text  keyword<br>numberic types: long, integer, short, byte, double, float<br>date types: date<br>boolean types: boolean<br>binary types: binary<br>range types: integer_range, float_range, long_range, double_range, date_range<br>array type<br>object type: a single json object<br>nested type: for arrays of JSON objects</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/portrait-01.jpg"
               alt="shniu<niushaohan@digcredit.com>" />
          <p class="site-author-name" itemprop="name">shniu<niushaohan@digcredit.com></p>
           
              <p class="site-description motion-element" itemprop="description">一个人并不是生来要给打败的，你尽可以的消灭他，可就是打不败他</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">55</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">56</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/shniu" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shniu<niushaohan@digcredit.com></span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
